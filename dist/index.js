var axette=function(n){"use strict";function t(n,t,r,e,o,a,i){try{var u=n[a](i),c=u.value}catch(n){return void r(n)}u.done?t(c):Promise.resolve(c).then(e,o)}function r(n){return function(){var r=this,e=arguments;return new Promise((function(o,a){var i=n.apply(r,e);function u(n){t(i,o,a,u,c,"next",n)}function c(n){t(i,o,a,u,c,"throw",n)}u(void 0)}))}}function e(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function o(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function a(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==r)return;var e,o,a=[],i=!0,u=!1;try{for(r=r.call(n);!(i=(e=r.next()).done)&&(a.push(e.value),!t||a.length!==t);i=!0);}catch(n){u=!0,o=n}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(n,t)||u(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n){return function(n){if(Array.isArray(n))return c(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||u(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(n,t){if(n){if("string"==typeof n)return c(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(n,t):void 0}}function c(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var l=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o(this,"onAjax",[]),o(this,"onInit",[])}var t,r,a;return t=n,(r=[{key:"addInitHook",value:function(n){return this.addHook("onInit",n)}},{key:"addAjaxHook",value:function(n){return this.addHook("onAjax",n)}},{key:"addHook",value:function(n,t){switch(n){case"onAjax":return this.onAjax.push(t),t;case"onInit":return this.onInit.push(t),t;default:return this[n]instanceof Array?(Array.prototype.push.call(this[n],t),t):null}}}])&&e(t.prototype,r),a&&e(t,a),n}(),f={init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ajax",t=document.querySelectorAll("a.".concat(n));t&&t.forEach((function(n){n.addEventListener("click",(function(n){n.preventDefault(),f.run(n.currentTarget.href)}))}));var e=document.querySelectorAll("form.".concat(n));e&&e.forEach((function(n){n instanceof HTMLFormElement&&n.addEventListener("submit",function(){var t=r(regeneratorRuntime.mark((function t(r){var e,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),e=new FormData(n),"post"===n.method.toLowerCase()?f.run(n.action,e,"application/form-multipart",n,"POST").catch((function(n){return console.error(n)})):(o=new FormData(n),a=new URLSearchParams(String(o)).toString(),f.run("".concat(n.action,"?").concat(a)).catch((function(n){return console.error(n)}))),n.reset();case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}));f.hooks.onInit.forEach((function(n){n.fn instanceof Function&&n.fn.apply(n,i(n.args))}))},run:function(n){return s.apply(this,arguments)},hooks:new l,on:function(n,t){for(var r=arguments.length,e=new Array(r>2?r-2:0),o=2;o<r;o++)e[o-2]=arguments[o];return f.hooks.addHook(n,{fn:t,args:e})},onInit:function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];f.on("onInit",n,r)},onAjax:function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];f.on("onAjax",n,r)},fixURL:function(){var n=window.location.toString(),t=n.indexOf("_fid=");if(-1!==t){var r=n.substr(0,t)+n.substr(t+10);"?"!==r.substr(r.length-1)&&"&"!==r.substr(r.length-1)||(r=r.substr(0,r.length-1)),window.history.replaceState("",document.title,r)}}};function s(){return s=r(regeneratorRuntime.mark((function n(t){var r,e,o,u,c,l,s,d,h,p,y=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=y.length>1&&void 0!==y[1]?y[1]:null,e=y.length>3&&void 0!==y[3]?y[3]:null,o=y.length>4&&void 0!==y[4]?y[4]:"POST",u=e?e.closest("form[data-ajax-parent]"):null,n.next=7,fetch(t,{method:u?"POST":o,headers:{"X-Requested-With":"XMLHttpRequest"},body:r});case 7:return c=n.sent,n.next=10,c.json();case 10:l=n.sent,s=l.snippets,d=void 0===s?{}:s,h=l.redirect,""!==(p=void 0===h?"":h)&&window.location.replace(p),Object.entries(d).forEach((function(n){var t=a(n,2),r=t[0],e=t[1],o=document.getElementById(r);o&&(o.innerHTML=e)})),f.hooks.onAjax.forEach((function(n){n.fn instanceof Function&&n.fn.apply(n,i(n.args))})),f.init();case 19:case"end":return n.stop()}}),n)}))),s.apply(this,arguments)}return n.Hooks=l,n.default=f,Object.defineProperty(n,"__esModule",{value:!0}),n}({});
